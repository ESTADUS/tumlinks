<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TumLinks</title>
    <meta name="description" content="TumLinks: Acelerador de URLs avanzado para enlaces más rápidos y eficientes">
    <meta name="keywords" content="acortador URL, enlaces rápidos, acelerador enlaces, compresión URL">
    <meta name="robots" content="index, follow">
    <link rel="icon" type="image/jpeg" href="https://github.com/ESTADUS/tumlinks/raw/refs/heads/main/logo.jpeg">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="ariaLive" class="aria-live" aria-live="polite" aria-atomic="true"></div>

    <div class="modal-overlay" id="modeModal">
        <div class="modal-content" role="dialog" aria-labelledby="modeTitle" aria-describedby="modeDesc">
            <div class="logo">
                <img src="https://github.com/ESTADUS/tumlinks/raw/refs/heads/main/logo.jpeg" alt="TumLinks Logo" width="50" height="50">
                <h1 id="modeTitle">TumLinks</h1>
            </div>
            <p class="modal-text" id="modeDesc">Selecciona tu modo de uso</p>
            
            <div class="mode-selector">
                <button class="mode-btn" id="freeModeSelect" data-mode="free">
                    <i class="fas fa-user"></i> 
                    <div class="mode-title">Modo Gratuito</div>
                    <div class="mode-desc">5 enlaces por día</div>
                </button>
                <button class="mode-btn premium" id="premiumModeSelect" data-mode="premium">
                    <i class="fas fa-crown"></i>
                    <div class="mode-title">Modo Premium</div>
                    <div class="mode-desc">Enlaces ilimitados + QR</div>
                </button>
            </div>
            
            <div class="captcha-container" id="captchaSection">
                <div class="captcha-text" id="captchaText" aria-label="Código CAPTCHA">ABCD12</div>
                <input type="text" class="captcha-input" id="captchaInput" placeholder="Ingrese el código" maxlength="6" aria-required="true">
                <div class="error-message" id="captchaError" role="alert">Código incorrecto. Intente nuevamente.</div>
                
                <div class="captcha-actions">
                    <button class="btn btn-secondary" id="refreshCaptcha" aria-label="Generar nuevo código CAPTCHA">
                        <i class="fas fa-redo" aria-hidden="true"></i> Actualizar
                    </button>
                    <button class="btn" id="verifyCaptcha">
                        <i class="fas fa-check" aria-hidden="true"></i> Continuar
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal-overlay" id="premiumModal" style="display: none;">
        <div class="modal-content" role="dialog" aria-labelledby="premiumTitle">
            <div class="modal-icon" aria-hidden="true">
                <i class="fas fa-crown"></i>
            </div>
            <h2 class="modal-title" id="premiumTitle">Modo Premium</h2>
            <p class="modal-text">Para acceder al modo premium, registra tu número de teléfono</p>
            
            <div class="form-group">
                <input type="tel" id="phoneInput" placeholder="+34 123 456 789" required>
            </div>
            
            <div class="captcha-actions">
                <button class="btn btn-secondary" id="cancelPremium">
                    <i class="fas fa-times" aria-hidden="true"></i> Cancelar
                </button>
                <button class="btn btn-premium" id="activatePremium">
                    <i class="fas fa-check" aria-hidden="true"></i> Activar Premium
                </button>
            </div>
        </div>
    </div>

    <div class="container" id="freeContainer" style="display: none;">
        <header class="header" role="banner">
            <div class="logo">
                <img src="https://github.com/ESTADUS/tumlinks/raw/refs/heads/main/logo.jpeg" alt="TumLinks Logo" width="40" height="40">
                <h1>TumLinks</h1>
            </div>
            <p class="subtitle">Acelerador de URLs - Modo Gratuito</p>
        </header>

        <main class="main-content" id="freeContent" role="main" tabindex="-1">
            <section class="card" aria-labelledby="shortenTitle">
                <h2 class="card-title" id="shortenTitle">
                    <i class="fas fa-rocket" aria-hidden="true"></i> 
                    Acelerar URL
                    <span class="analytics-badge">GRATUITO</span>
                </h2>
                
                <div class="limit-counter" id="limitCounter">
                    <i class="fas fa-info-circle"></i>
                    Límite: <span id="linksToday">0</span>/5 enlaces hoy
                </div>
                
                <form id="shorten-form-free" role="form">
                    <div class="form-group">
                        <label for="url-input-free">URL para acelerar</label>
                        <input type="url" id="url-input-free" placeholder="https://ejemplo.com/ruta-extremadamente-larga" required aria-required="true">
                    </div>
                    
                    <button type="submit" class="btn btn-block" id="submitBtnFree">
                        <i class="fas fa-bolt" aria-hidden="true"></i> Acelerar URL
                    </button>
                </form>

                <div class="loading" id="loadingFree" aria-live="polite" aria-label="Procesando solicitud">
                    <div class="spinner" aria-hidden="true"></div>
                    <p>Optimizando enlace...</p>
                </div>

                <div class="result-container" id="result-container-free" role="status" aria-live="polite">
                    <div class="result-title">
                        <i class="fas fa-check-circle" aria-hidden="true"></i> URL Acelerada
                    </div>
                    <div class="result-url">
                        <input type="text" id="short-url-free" readonly aria-label="URL acelerada">
                        <button class="btn" id="copy-btn-free" aria-label="Copiar URL al portapapeles">
                            <i class="fas fa-copy" aria-hidden="true"></i>
                        </button>
                    </div>
                    <div class="link-stats">
                        <div class="stat">
                            <i class="fas fa-calendar" aria-hidden="true"></i>
                            <span id="created-date-free">Ahora</span>
                        </div>
                        <div class="analytics-badge">
                            <i class="fas fa-chart-line" aria-hidden="true"></i>
                            ACTIVO
                        </div>
                    </div>
                </div>
            </section>
            
            <div class="card premium-promo">
                <h3 class="card-title">
                    <i class="fas fa-crown"></i> ¿Necesitas más?
                </h3>
                <p>Actualiza a Premium para obtener enlaces ilimitados, códigos QR y estadísticas avanzadas.</p>
                <button class="btn btn-premium btn-block" id="upgradeToPremium">
                    <i class="fas fa-crown"></i> Actualizar a Premium
                </button>
            </div>
        </main>
    </div>

    <div class="container" id="premiumContainer" style="display: none;">
        <header class="header" role="banner">
            <div class="logo">
                <img src="https://github.com/ESTADUS/tumlinks/raw/refs/heads/main/logo.jpeg" alt="TumLinks Logo" width="40" height="40">
                <h1>TumLinks</h1>
            </div>
            <p class="subtitle">Acelerador de URLs - Modo Premium</p>
        </header>

        <main class="main-content" id="premiumContent" role="main" tabindex="-1">
            <section class="card" aria-labelledby="shortenTitlePremium">
                <h2 class="card-title" id="shortenTitlePremium">
                    <i class="fas fa-rocket" aria-hidden="true"></i> 
                    Acelerar URL
                    <span class="analytics-badge premium-badge">PREMIUM</span>
                </h2>
                
                <div class="premium-features">
                    <strong><i class="fas fa-crown"></i> Beneficios Premium:</strong>
                    <ul class="feature-list">
                        <li><i class="fas fa-check"></i> Enlaces ilimitados</li>
                        <li><i class="fas fa-check"></i> Códigos QR</li>
                        <li><i class="fas fa-check"></i> Personalización completa</li>
                        <li><i class="fas fa-check"></i> Estadísticas avanzadas</li>
                    </ul>
                </div>
                
                <form id="shorten-form-premium" role="form">
                    <div class="form-group">
                        <label for="url-input-premium">URL para acelerar</label>
                        <input type="url" id="url-input-premium" placeholder="https://ejemplo.com/ruta-extremadamente-larga" required aria-required="true">
                    </div>
                    
                    <div class="form-group">
                        <label for="custom-alias-premium">Alias personalizado (opcional)</label>
                        <input type="text" id="custom-alias-premium" placeholder="mi-enlace" aria-describedby="aliasHelp">
                        <div id="aliasHelp" class="sr-only">Si se deja vacío, se generará un código automáticamente</div>
                    </div>
                    
                    <div class="form-group">
                        <label class="checkbox-label">
                            <input type="checkbox" id="generateQR">
                            <span class="checkmark"></span>
                            Generar código QR
                        </label>
                    </div>
                    
                    <button type="submit" class="btn btn-block btn-premium" id="submitBtnPremium">
                        <i class="fas fa-bolt" aria-hidden="true"></i> Acelerar URL
                    </button>
                </form>

                <div class="loading" id="loadingPremium" aria-live="polite" aria-label="Procesando solicitud">
                    <div class="spinner" aria-hidden="true"></div>
                    <p>Optimizando enlace...</p>
                </div>

                <div class="result-container" id="result-container-premium" role="status" aria-live="polite">
                    <div class="result-title">
                        <i class="fas fa-check-circle" aria-hidden="true"></i> URL Acelerada
                    </div>
                    <div class="result-url">
                        <input type="text" id="short-url-premium" readonly aria-label="URL acelerada">
                        <button class="btn" id="copy-btn-premium" aria-label="Copiar URL al portapapeles">
                            <i class="fas fa-copy" aria-hidden="true"></i>
                        </button>
                    </div>
                    
                    <div id="qr-container" style="display: none; text-align: center; margin: 15px 0;">
                        <canvas id="qr-code" width="150" height="150"></canvas>
                        <p style="margin-top: 10px; font-size: 0.8rem; color: #64748b;">
                            <i class="fas fa-qrcode"></i> Código QR generado
                        </p>
                    </div>
                    
                    <div class="link-stats">
                        <div class="stat">
                            <i class="fas fa-calendar" aria-hidden="true"></i>
                            <span id="created-date-premium">Ahora</span>
                        </div>
                        <div class="stat">
                            <i class="fas fa-chart-bar" aria-hidden="true"></i>
                            <span id="click-count-premium">0 clics</span>
                        </div>
                        <div class="analytics-badge premium-badge">
                            <i class="fas fa-chart-line" aria-hidden="true"></i>
                            ACTIVO
                        </div>
                    </div>
                </div>
            </section>

            <section class="card" aria-labelledby="recentLinksTitle">
                <h2 class="card-title" id="recentLinksTitle">
                    <i class="fas fa-history" aria-hidden="true"></i> Enlaces Recientes
                </h2>
                <div class="links-list" id="links-list-premium" role="list" aria-label="Lista de enlaces acelerados recientemente">
                    <div class="empty-state" id="empty-state-premium">
                        <i class="fas fa-link" aria-hidden="true"></i>
                        <h3>Sin enlaces acelerados</h3>
                        <p>Los enlaces que aceleres aparecerán aquí</p>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <div class="toast" id="toast" role="alert" aria-live="assertive">Enlace copiado al portapapeles</div>

    <script src="script.js"></script>
</body>
</html>